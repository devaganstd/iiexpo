var TouchInput=pc.createScript("touchInput");TouchInput.attributes.add("orbitSensitivity",{type:"number",default:.4,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),TouchInput.attributes.add("distanceSensitivity",{type:"number",default:.2,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),TouchInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera,this.lastTouchPoint=new pc.Vec2,this.lastPinchMidPoint=new pc.Vec2,this.lastPinchDistance=0,this.orbitCamera&&this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.on("destroy",(function(){this.app.touch.off(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)})))},TouchInput.prototype.getPinchDistance=function(t,i){var o=t.x-i.x,n=t.y-i.y;return Math.sqrt(o*o+n*n)},TouchInput.prototype.calcMidPoint=function(t,i,o){o.set(i.x-t.x,i.y-t.y),o.scale(.5),o.x+=t.x,o.y+=t.y},TouchInput.prototype.onTouchStartEndCancel=function(t){var i=t.touches;1==i.length?this.lastTouchPoint.set(i[0].x,i[0].y):2==i.length&&(this.lastPinchDistance=this.getPinchDistance(i[0],i[1]),this.calcMidPoint(i[0],i[1],this.lastPinchMidPoint))},TouchInput.fromWorldPoint=new pc.Vec3,TouchInput.toWorldPoint=new pc.Vec3,TouchInput.worldDiff=new pc.Vec3,TouchInput.prototype.pan=function(t){var i=TouchInput.fromWorldPoint,o=TouchInput.toWorldPoint,n=TouchInput.worldDiff,h=this.entity.camera,c=this.orbitCamera.distance;h.screenToWorld(t.x,t.y,c,i),h.screenToWorld(this.lastPinchMidPoint.x,this.lastPinchMidPoint.y,c,o),n.sub2(o,i),this.orbitCamera.pivotPoint.add(n)},TouchInput.pinchMidPoint=new pc.Vec2,TouchInput.prototype.onTouchMove=function(t){var i=TouchInput.pinchMidPoint,o=t.touches;if(1==o.length){var n=o[0];this.orbitCamera.pitch-=(n.y-this.lastTouchPoint.y)*this.orbitSensitivity,this.orbitCamera.yaw-=(n.x-this.lastTouchPoint.x)*this.orbitSensitivity,this.lastTouchPoint.set(n.x,n.y)}else if(2==o.length){var h=this.getPinchDistance(o[0],o[1]),c=h-this.lastPinchDistance;this.lastPinchDistance=h,this.orbitCamera.distance-=c*this.distanceSensitivity*.1*(.1*this.orbitCamera.distance),this.calcMidPoint(o[0],o[1],i),this.pan(i),this.lastPinchMidPoint.copy(i)}};var OrbitCamera=pc.createScript("orbitCamera");OrbitCamera.attributes.add("distanceMax",{type:"number",default:0,title:"Distance Max",description:"Setting this at 0 will give an infinite distance limit"}),OrbitCamera.attributes.add("distanceMin",{type:"number",default:0,title:"Distance Min"}),OrbitCamera.attributes.add("pitchAngleMax",{type:"number",default:90,title:"Pitch Angle Max (degrees)"}),OrbitCamera.attributes.add("pitchAngleMin",{type:"number",default:-90,title:"Pitch Angle Min (degrees)"}),OrbitCamera.attributes.add("inertiaFactor",{type:"number",default:0,title:"Inertia Factor",description:"Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."}),OrbitCamera.attributes.add("focusEntity",{type:"entity",title:"Focus Entity",description:"Entity for the camera to focus on. If blank, then the camera will use the whole scene"}),OrbitCamera.attributes.add("frameOnStart",{type:"boolean",default:!0,title:"Frame on Start",description:'Frames the entity or scene at the start of the application."'}),Object.defineProperty(OrbitCamera.prototype,"distance",{get:function(){return this._targetDistance},set:function(t){this._targetDistance=this._clampDistance(t)}}),Object.defineProperty(OrbitCamera.prototype,"pitch",{get:function(){return this._targetPitch},set:function(t){this._targetPitch=this._clampPitchAngle(t)}}),Object.defineProperty(OrbitCamera.prototype,"yaw",{get:function(){return this._targetYaw},set:function(t){this._targetYaw=t;var i=(this._targetYaw-this._yaw)%360;this._targetYaw=i>180?this._yaw-(360-i):i<-180?this._yaw+(360+i):this._yaw+i}}),Object.defineProperty(OrbitCamera.prototype,"pivotPoint",{get:function(){return this._pivotPoint},set:function(t){this._pivotPoint.copy(t)}}),OrbitCamera.prototype.focus=function(t){this._buildAabb(t,0);var i=this._modelsAabb.halfExtents,e=Math.max(i.x,Math.max(i.y,i.z));e/=Math.tan(.5*this.entity.camera.fov*pc.math.DEG_TO_RAD),e*=2,this.distance=e,this._removeInertia(),this._pivotPoint.copy(this._modelsAabb.center)},OrbitCamera.distanceBetween=new pc.Vec3,OrbitCamera.prototype.resetAndLookAtPoint=function(t,i){this.pivotPoint.copy(i),this.entity.setPosition(t),this.entity.lookAt(i);var e=OrbitCamera.distanceBetween;e.sub2(i,t),this.distance=e.length(),this.pivotPoint.copy(i);var a=this.entity.getRotation();this.yaw=this._calcYaw(a),this.pitch=this._calcPitch(a,this.yaw),this._removeInertia(),this._updatePosition()},OrbitCamera.prototype.resetAndLookAtEntity=function(t,i){this._buildAabb(i,0),this.resetAndLookAtPoint(t,this._modelsAabb.center)},OrbitCamera.prototype.reset=function(t,i,e){this.pitch=i,this.yaw=t,this.distance=e,this._removeInertia()},OrbitCamera.prototype.initialize=function(){var t=this,onWindowResize=function(){t._checkAspectRatio()};window.addEventListener("resize",onWindowResize,!1),this._checkAspectRatio(),this._modelsAabb=new pc.BoundingBox,this._buildAabb(this.focusEntity||this.app.root,0),this.entity.lookAt(this._modelsAabb.center),this._pivotPoint=new pc.Vec3,this._pivotPoint.copy(this._modelsAabb.center);var i=this.entity.getRotation();if(this._yaw=this._calcYaw(i),this._pitch=this._clampPitchAngle(this._calcPitch(i,this._yaw)),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0),this._distance=0,this._targetYaw=this._yaw,this._targetPitch=this._pitch,this.frameOnStart)this.focus(this.focusEntity||this.app.root);else{var e=new pc.Vec3;e.sub2(this.entity.getPosition(),this._pivotPoint),this._distance=this._clampDistance(e.length())}this._targetDistance=this._distance,this.on("attr:distanceMin",(function(t,i){this._targetDistance=this._clampDistance(this._distance)})),this.on("attr:distanceMax",(function(t,i){this._targetDistance=this._clampDistance(this._distance)})),this.on("attr:pitchAngleMin",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)})),this.on("attr:pitchAngleMax",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)})),this.on("attr:focusEntity",(function(t,i){this.frameOnStart?this.focus(t||this.app.root):this.resetAndLookAtEntity(this.entity.getPosition(),t||this.app.root)})),this.on("attr:frameOnStart",(function(t,i){t&&this.focus(this.focusEntity||this.app.root)})),this.on("destroy",(function(){window.removeEventListener("resize",onWindowResize,!1)}))},OrbitCamera.prototype.update=function(t){var i=0===this.inertiaFactor?1:Math.min(t/this.inertiaFactor,1);this._distance=pc.math.lerp(this._distance,this._targetDistance,i),this._yaw=pc.math.lerp(this._yaw,this._targetYaw,i),this._pitch=pc.math.lerp(this._pitch,this._targetPitch,i),this._updatePosition()},OrbitCamera.prototype._updatePosition=function(){this.entity.setLocalPosition(0,0,0),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0);var t=this.entity.getPosition();t.copy(this.entity.forward),t.scale(-this._distance),t.add(this.pivotPoint),this.entity.setPosition(t)},OrbitCamera.prototype._removeInertia=function(){this._yaw=this._targetYaw,this._pitch=this._targetPitch,this._distance=this._targetDistance},OrbitCamera.prototype._checkAspectRatio=function(){var t=this.app.graphicsDevice.height,i=this.app.graphicsDevice.width;this.entity.camera.horizontalFov=t>i},OrbitCamera.prototype._buildAabb=function(t,i){var e=0;if(t.model){var a=t.model.meshInstances;if(a)for(e=0;e<a.length;e++)0===i?this._modelsAabb.copy(a[e].aabb):this._modelsAabb.add(a[e].aabb),i+=1}for(e=0;e<t.children.length;++e)i+=this._buildAabb(t.children[e],i);return i},OrbitCamera.prototype._calcYaw=function(t){var i=new pc.Vec3;return t.transformVector(pc.Vec3.FORWARD,i),Math.atan2(-i.x,-i.z)*pc.math.RAD_TO_DEG},OrbitCamera.prototype._clampDistance=function(t){return this.distanceMax>0?pc.math.clamp(t,this.distanceMin,this.distanceMax):Math.max(t,this.distanceMin)},OrbitCamera.prototype._clampPitchAngle=function(t){return pc.math.clamp(t,-this.pitchAngleMax,-this.pitchAngleMin)},OrbitCamera.quatWithoutYaw=new pc.Quat,OrbitCamera.yawOffset=new pc.Quat,OrbitCamera.prototype._calcPitch=function(t,i){var e=OrbitCamera.quatWithoutYaw,a=OrbitCamera.yawOffset;a.setFromEulerAngles(0,-i,0),e.mul2(a,t);var s=new pc.Vec3;return e.transformVector(pc.Vec3.FORWARD,s),Math.atan2(s.y,-s.z)*pc.math.RAD_TO_DEG};var MouseInput=pc.createScript("mouseInput");MouseInput.attributes.add("orbitSensitivity",{type:"number",default:.3,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),MouseInput.attributes.add("distanceSensitivity",{type:"number",default:.15,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),MouseInput.prototype.initialize=function(){if(this.orbitCamera=this.entity.script.orbitCamera,this.orbitCamera){var t=this,onMouseOut=function(o){t.onMouseOut(o)};this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.addEventListener("mouseout",onMouseOut,!1),this.on("destroy",(function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.removeEventListener("mouseout",onMouseOut,!1)}))}this.app.mouse.disableContextMenu(),this.lookButtonDown=!1,this.panButtonDown=!1,this.lastPoint=new pc.Vec2},MouseInput.fromWorldPoint=new pc.Vec3,MouseInput.toWorldPoint=new pc.Vec3,MouseInput.worldDiff=new pc.Vec3,MouseInput.prototype.pan=function(t){var o=MouseInput.fromWorldPoint,e=MouseInput.toWorldPoint,i=MouseInput.worldDiff,s=this.entity.camera,n=this.orbitCamera.distance;s.screenToWorld(t.x,t.y,n,o),s.screenToWorld(this.lastPoint.x,this.lastPoint.y,n,e),i.sub2(e,o),this.orbitCamera.pivotPoint.add(i)},MouseInput.prototype.onMouseDown=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!0;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!0}},MouseInput.prototype.onMouseUp=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!1;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!1}},MouseInput.prototype.onMouseMove=function(t){pc.app.mouse;this.lookButtonDown?(this.orbitCamera.pitch-=t.dy*this.orbitSensitivity,this.orbitCamera.yaw-=t.dx*this.orbitSensitivity):this.panButtonDown&&this.pan(t),this.lastPoint.set(t.x,t.y)},MouseInput.prototype.onMouseWheel=function(t){this.orbitCamera.distance-=t.wheel*this.distanceSensitivity*(.1*this.orbitCamera.distance),t.event.preventDefault()},MouseInput.prototype.onMouseOut=function(t){this.lookButtonDown=!1,this.panButtonDown=!1};var KeyboardInput=pc.createScript("keyboardInput");KeyboardInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera},KeyboardInput.prototype.postInitialize=function(){this.orbitCamera&&(this.startDistance=this.orbitCamera.distance,this.startYaw=this.orbitCamera.yaw,this.startPitch=this.orbitCamera.pitch,this.startPivotPosition=this.orbitCamera.pivotPoint.clone())},KeyboardInput.prototype.update=function(t){this.orbitCamera&&this.app.keyboard.wasPressed(pc.KEY_SPACE)&&(this.orbitCamera.reset(this.startYaw,this.startPitch,this.startDistance),this.orbitCamera.pivotPoint=this.startPivotPosition)};var ApiHall=pc.createScript("apiHall");ApiHall.getHalls=function(t){pc.http.get("https://dashboard.bandungweddingseason.id/api/v1/visitor/halls",{retry:!0,maxRetries:5},(function(i,a){t(i,a)}))},ApiHall.getHall=function(t,i){pc.http.get(`https://b64c5b573623.ngrok.io/api/v1/public/booths?hall_id=${t}`,{retry:!0,maxRetries:5},(function(t,a){i(t,a)}))};var ApiBooth=pc.createScript("apiBooth");ApiBooth.getBooths=function(t,i){pc.http.get(`https://iie.invex.id/api/v1/public/booths?hall_id=${t}`,{retry:!0,maxRetries:5},(function(t,o){i(t,o)}))},ApiBooth.getBooth=function(t,i){pc.http.get(`https://iie.invex.id/api/v1/public/booths/${t}`,{retry:!0,maxRetries:5},(function(t,o){i(t,o)}))},ApiBooth.getBoothIndividu=function(t,i){pc.http.get(`https://iie.invex.id/api/v1/public/preview-booths/${t}`,{retry:!0,maxRetries:5},(function(t,o){i(t,o)}))};var LoadImage=pc.createScript("loadImage");LoadImage.loadFromUrl=function(a,o){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){o(n)},n.src=a};var BoothCollection=pc.createScript("boothCollection");BoothCollection.attributes.add("booths",{type:"entity",array:!0,title:"Objects to select"}),BoothCollection.attributes.add("idx_mat_logo",{type:"number",array:!0}),BoothCollection.attributes.add("idx_mat_banner1",{type:"number",array:!0}),BoothCollection.attributes.add("idx_mat_banner2",{type:"number",array:!0}),BoothCollection.attributes.add("idx_mat_banner3",{type:"number",array:!0}),BoothCollection.prototype.initialize=function(){ApiBooth.getBooths(1,((t,o)=>{if(t)console.log("error nich"+t);else{console.log(o.data);for(var e=0;e<this.booths.length;e++)console.log("hello"+this.booths[e].name)}}))},BoothCollection.prototype.update=function(t){};var PlayerController=pc.createScript("playerController");PlayerController.attributes.add("event",{type:"string"}),PlayerController.prototype.initialize=function(){this.MousePosition=new pc.Vec3,this.mainCam=this.app.root.findByName("Camera"),this.cube=this.app.root.findByName("Cube"),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.movement=!1,this.pos=new pc.Vec2},PlayerController.prototype.update=function(o){this.movement},PlayerController.prototype.onMouseDown=function(o){o.button==pc.MOUSEBUTTON_LEFT&&(this.movement=!0,this.pos=new pc.Vec2(o.x,o.y),this.app.fire("fadeout"))},PlayerController.prototype.onMouseUp=function(o){o.button==pc.MOUSEBUTTON_LEFT&&(this.movement=!1)},PlayerController.prototype.onMouseMove=function(o){this.movement&&(this.pos=new pc.Vec2(o.x,o.y))};var PlayerAnimationHandler=pc.createScript("playerAnimationHandler");PlayerAnimationHandler.attributes.add("blendTime",{type:"number",default:.2}),PlayerAnimationHandler.attributes.add("playerEntity",{type:"entity",title:"player"}),PlayerAnimationHandler.prototype.initialize=function(){var t=this.app;t.keyboard.on(pc.EVENT_KEYDOWN,this.keyChange,this),t.keyboard.on(pc.EVENT_KEYUP,this.keyChange,this),this.direction="people_idle",this.setDirection("people_idle"),t.on("anim:walk",(function(t){this.walkButton=t}),this)},PlayerAnimationHandler.prototype.checkButtons=function(){this.app;this.walkButton?this.direction="people_walk":this.direction="people_idle"},PlayerAnimationHandler.prototype.update=function(t){var i=this.direction;this.checkButtons(),i!==this.direction&&this.setDirection(this.direction)},PlayerAnimationHandler.prototype.keyChange=function(t){var i=this.direction;this.checkButtons(),i!==this.direction&&this.setDirection(this.direction)},PlayerAnimationHandler.prototype.setDirection=function(t){this.direction=t,this.entity.animation.play(t,this.blendTime)};var BoothBase=pc.createScript("boothBase");BoothBase.attributes.add("bName",{type:"string",default:"booth-"}),BoothBase.attributes.add("bSlot",{type:"string"}),BoothBase.prototype.initialize=function(){},BoothBase.prototype.update=function(t){};var BoothManager=pc.createScript("boothManager");BoothManager.attributes.add("hallIndex",{type:"number",default:0}),BoothManager.attributes.add("boothEntities",{type:"entity",array:!0,default:[],title:"Booth Entity"}),BoothManager.attributes.add("player",{type:"entity",title:"Player Entity"}),BoothManager.prototype.initialize=function(){var t=this.hallIndex;ApiBooth.getBooths(t,((t,o)=>{const i=o.data;console.log(i);for(var a=0;a<this.boothEntities.length;a++){const t=this.boothEntities[a];for(var e=0;e<i.length;e++){var r=i[e];r.code==t.script.boothAttribute.boothCode&&"active"==r.status&&(t.script.boothAttribute.updateAttribute(r),r.id==this.app.booth_id&&this.spawnPlayer(t))}}})),0!=this.app.booth_id&&null!=this.app.booth_id||this.spawnPlayer(null)},BoothManager.prototype.spawnPlayer=function(t){var o=0,i=0,a=0;t?(o=t.position.x+5,i=t.position.z,a=1.5):(o=this.player.position.x,a=this.player.position.y,i=this.player.position.z),this.player.setLocalPosition(o,a,i),this.player.rigidbody.enabled=!0};var BoothAttribute=pc.createScript("boothAttribute");BoothAttribute.attributes.add("boothCode",{type:"string",default:""}),BoothAttribute.attributes.add("id_booth",{type:"string",default:""}),BoothAttribute.attributes.add("id_stand1",{type:"number",default:0}),BoothAttribute.attributes.add("id_stand2",{type:"number",default:0}),BoothAttribute.attributes.add("id_desk",{type:"number",default:0}),BoothAttribute.attributes.add("id_wall",{type:"number",default:0}),BoothAttribute.attributes.add("id_logo",{type:"number",default:0}),BoothAttribute.attributes.add("id_tv",{type:"number",default:0}),BoothAttribute.attributes.add("baseColorBooth",{type:"number",array:!0,default:[],title:"Booth Material Base Color"}),BoothAttribute.attributes.add("url_stand1",{type:"string"}),BoothAttribute.attributes.add("url_stand2",{type:"string"}),BoothAttribute.attributes.add("url_desk",{type:"string"}),BoothAttribute.attributes.add("url_wall",{type:"string"}),BoothAttribute.prototype.updateAttribute=function(t){const e=this.entity.findByPath("Triggers");if(e&&(e.script.boothTrigger.id_booth=t.id),t&&(this.id_booth=t.id),t.booth_banner_4x9&&LoadImage.loadFromUrl(t.booth_banner_4x9,(e=>{var a=new pc.Texture(this.app.graphicsDevice);a.setSource(e);var r=new pc.StandardMaterial;r.diffuseMap=a,r.update(),this.id_stand1>0&&(this.entity.model.meshInstances[this.id_stand1].material=r,this.url_stand1=t.booth_banner_4x9),this.id_stand2>0&&(this.entity.model.meshInstances[this.id_stand2].material=r,this.url_stand2=t.booth_banner_4x9)})),t.booth_banner_2x1&&LoadImage.loadFromUrl(t.booth_banner_2x1,(e=>{var a=new pc.Texture(this.app.graphicsDevice);a.setSource(e);var r=new pc.StandardMaterial;r.diffuseMap=a,r.update(),this.id_desk>0&&(this.entity.model.meshInstances[this.id_desk].material=r,this.url_desk=t.booth_banner_2x1)})),t.booth_banner_8x7&&LoadImage.loadFromUrl(t.booth_banner_8x7,(e=>{var a=new pc.Texture(this.app.graphicsDevice);a.setSource(e);var r=new pc.StandardMaterial;r.diffuseMap=a,r.update(),this.id_wall>0&&(this.entity.model.meshInstances[this.id_wall].material=r,this.url_wall=t.booth_banner_8x7)})),t.brand_image&&LoadImage.loadFromUrl(t.brand_image,(t=>{var e=new pc.Texture(this.app.graphicsDevice);e.setSource(t);var a=new pc.StandardMaterial;a.diffuseMap=e,a.update(),this.id_logo>0&&(this.entity.model.meshInstances[this.id_logo].material=a)})),this.baseColorBooth.length>0)for(var a=t.booth_color_hex.toString(),r=hexToRgb(a).r/255,i=hexToRgb(a).g/255,o=hexToRgb(a).b/255,d=0;d<this.baseColorBooth.length;d++){const t=parseInt(this.baseColorBooth[d]);this.entity.model.meshInstances[t].setParameter("material_diffuse",[Math.pow(r,2.2),Math.pow(i,2.2),Math.pow(o,2.2)])}function hexToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}};var SceneTrigger=pc.createScript("sceneTrigger");SceneTrigger.attributes.add("sceneManager",{type:"entity",default:"",title:"Scene Manager"}),SceneTrigger.attributes.add("sceneName",{type:"string",default:"",title:"Scene Name to Load"}),SceneTrigger.attributes.add("sceneIndex",{type:"number",default:0,title:"Scene Index to Load"}),SceneTrigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.onTriggerEnter,this)},SceneTrigger.prototype.onTriggerEnter=function(e){var t=this.app.root.findByName("Player").rigidbody;e.rigidbody===t&&(this.app.sceneIndex=this.sceneIndex,this.app.fire("fadeout"),this.sceneManager.script.sceneManager.loadScene(this.sceneName,(e=>{})))};var RaycastPoint=pc.createScript("raycastPoint");RaycastPoint.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),RaycastPoint.attributes.add("playerEntity",{type:"entity",title:"Player Entity"}),RaycastPoint.attributes.add("modelEntity",{type:"entity",title:"Model Entity"}),RaycastPoint.attributes.add("ground",{type:"entity",title:"Ground Entity"}),RaycastPoint.attributes.add("playerSpeed",{type:"number",default:0,title:"Player Speed"}),RaycastPoint.attributes.add("camXOffset",{type:"number",default:13,title:"camXOffset"}),RaycastPoint.attributes.add("camYOffset",{type:"number",default:6,title:"camYOffset"}),RaycastPoint.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchCancel,this)),this.ray=new pc.Ray,this.hitPosition=new pc.Vec3,this.aabbShape=new pc.BoundingBox(this.ground.getPosition().clone(),this.ground.getLocalScale().clone().scale(.5)),this.direction=new pc.Vec3,this.distanceToTravel=0,this.targetPosition=new pc.Vec3,this.canMove=!1,this.screen=new pc.Vec2},RaycastPoint.newPosition=new pc.Vec3,RaycastPoint.prototype.update=function(t){if(this.cameraEntity.setPosition(this.playerEntity.getPosition().x+this.camXOffset,this.playerEntity.getPosition().y+this.camYOffset,this.playerEntity.getPosition().z),this.canMove&&this.doRayCast(this.screen),this.direction.lengthSq()>0){var i=this.playerSpeed*t,e=RaycastPoint.newPosition;e.copy(this.direction).scale(i),e.add(this.playerEntity.getPosition()),this.canMove&&this.playerEntity.rigidbody.teleport(e),this.distanceToTravel-=i,this.distanceToTravel<=0&&(this.playerEntity.setPosition(this.targetPosition),this.direction.set(0,0,0))}},RaycastPoint.prototype.doRayCast=function(t){if(this.cameraEntity.camera){this.cameraEntity.camera.screenToWorld(t.x,t.y,this.cameraEntity.camera.farClip,this.ray.direction),this.ray.origin.copy(this.cameraEntity.getPosition()),this.ray.direction.sub(this.ray.origin).normalize();var i=this.aabbShape.intersectsRay(this.ray,this.hitPosition),e=this.app.systems.rigidbody.raycastFirst(this.ray,this.hitPosition);if(e){var o=e.entity;console.log("Entity selected "+o.name)}i&&this.movePlayerTo(this.hitPosition)}},RaycastPoint.prototype.movePlayerTo=function(t){this.targetPosition.copy(t),this.targetPosition.y=this.playerEntity.getPosition().y,this.distanceTravelled=0,this.direction.sub2(this.targetPosition,this.playerEntity.getPosition()),this.distanceToTravel=this.direction.length(),this.distanceToTravel>0?(this.direction.normalize(),this.playerEntity.lookAt(this.targetPosition),this.playerEntity.rotateLocal(0,180,0)):this.direction.set(0,0,0)},RaycastPoint.prototype.onMouseDown=function(t){t.button==pc.MOUSEBUTTON_LEFT&&(this.screen=new pc.Vec2(t.x,t.y),this.canMove=!0)},RaycastPoint.prototype.onMouseUp=function(t){t.button==pc.MOUSEBUTTON_LEFT&&(this.canMove=!1)},RaycastPoint.prototype.onMouseMove=function(t){this.canMove&&(this.screen=new pc.Vec2(t.x,t.y))},RaycastPoint.prototype.onTouchStart=function(t){1==t.touches.length&&(this.screen=new pc.Vec2(t.touches[0].x,t.touches[0].y),this.canMove=!0,t.event.preventDefault())},RaycastPoint.prototype.onTouchEnd=function(t){0===t.touches.length&&(this.canMove=!1),t.event.preventDefault()},RaycastPoint.prototype.onTouchCancel=function(t){0===t.touches.length&&(this.canMove=!1),t.event.preventDefault()},RaycastPoint.prototype.onTouchMove=function(t){this.canMove&&(this.screen=new pc.Vec2(t.touches[0].x,t.touches[0].y)),t.event.preventDefault()};var Pulse=pc.createScript("pulse");Pulse.prototype.initialize=function(){this.factor=0},Pulse.prototype.pulse=function(){this.factor=1},Pulse.prototype.update=function(t){if(this.factor>0){this.factor-=t;var i=1+Math.sin(10*this.factor)*this.factor;this.entity.setLocalScale(i,i,i)}};"undefined"!=typeof document&&(
/*! FPSMeter 0.3.1 - 9th May 2013 | https://github.com/Darsain/fpsmeter */
function(t,e){function s(t,e){for(var n in e)try{t.style[n]=e[n]}catch(t){}return t}function H(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function R(t,e){if("array"!==H(e))return-1;if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function I(){var t,e=arguments;for(t in e[1])if(e[1].hasOwnProperty(t))switch(H(e[1][t])){case"object":e[0][t]=I({},e[0][t],e[1][t]);break;case"array":e[0][t]=e[1][t].slice(0);break;default:e[0][t]=e[1][t]}return 2<e.length?I.apply(null,[e[0]].concat(Array.prototype.slice.call(e,2))):e[0]}function N(t){return 1===(t=Math.round(255*t).toString(16)).length?"0"+t:t}function S(t,e,n,o){t.addEventListener?t[o?"removeEventListener":"addEventListener"](e,n,!1):t.attachEvent&&t[o?"detachEvent":"attachEvent"]("on"+e,n)}function D(t,e){function g(t,e,n,o){return h[0|t][Math.round(Math.min((e-n)/(o-n)*M,M))]}function r(){F.legend.fps!==q&&(F.legend.fps=q,F.legend[c]=q?"FPS":"ms"),b=q?v.fps:v.duration,F.count[c]=999<b?"999+":b.toFixed(99<b?0:O.decimals)}function m(){for(l=n(),P<l-O.threshold&&(v.fps-=v.fps/Math.max(1,60*O.smoothing/O.interval),v.duration=1e3/v.fps),w=O.history;w--;)T[w]=0===w?v.fps:T[w-1],j[w]=0===w?v.duration:j[w-1];if(r(),O.heat){if(z.length)for(w=z.length;w--;)z[w].el.style[o[z[w].name].heatOn]=q?g(o[z[w].name].heatmap,v.fps,0,O.maxFps):g(o[z[w].name].heatmap,v.duration,O.threshold,0);if(F.graph&&o.column.heatOn)for(w=C.length;w--;)C[w].style[o.column.heatOn]=q?g(o.column.heatmap,T[w],0,O.maxFps):g(o.column.heatmap,j[w],O.threshold,0)}if(F.graph)for(y=0;y<O.history;y++)C[y].style.height=(q?T[y]?Math.round(x/O.maxFps*Math.min(T[y],O.maxFps)):0:j[y]?Math.round(x/O.threshold*Math.min(j[y],O.threshold)):0)+"px"}function k(){20>O.interval?(p=i(k),m()):(p=setTimeout(k,O.interval),f=i(m))}function G(t){(t=t||window.event).preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0),v.toggle()}function U(){O.toggleOn&&S(F.container,O.toggleOn,G,1),t.removeChild(F.container)}function V(){if(F.container&&U(),o=D.theme[O.theme],!(h=o.compiledHeatmaps||[]).length&&o.heatmaps.length){for(y=0;y<o.heatmaps.length;y++)for(h[y]=[],w=0;w<=M;w++){var e,n=h[y],a=w;e=.33/M*w;var i=o.heatmaps[y].saturation,l=o.heatmaps[y].lightness,p=void 0,c=void 0,u=void 0,d=u=void 0,f=p=c=void 0;f=void 0;0===(u=.5>=l?l*(1+i):l+i-l*i)?e="#000":(c=(u-(d=2*l-u))/u,f=(e*=6)-(p=Math.floor(e)),f*=u*c,0===p||6===p?(p=u,c=d+f,u=d):1===p?(p=u-f,c=u,u=d):2===p?(p=d,c=u,u=d+f):3===p?(p=d,c=u-f):4===p?(p=d+f,c=d):(p=u,c=d,u-=f),e="#"+N(p)+N(c)+N(u)),n[a]=e}o.compiledHeatmaps=h}for(var b in F.container=s(document.createElement("div"),o.container),F.count=F.container.appendChild(s(document.createElement("div"),o.count)),F.legend=F.container.appendChild(s(document.createElement("div"),o.legend)),F.graph=O.graph?F.container.appendChild(s(document.createElement("div"),o.graph)):0,z.length=0,F)F[b]&&o[b].heatOn&&z.push({name:b,el:F[b]});if(C.length=0,F.graph)for(F.graph.style.width=O.history*o.column.width+(O.history-1)*o.column.spacing+"px",w=0;w<O.history;w++)C[w]=F.graph.appendChild(s(document.createElement("div"),o.column)),C[w].style.position="absolute",C[w].style.bottom=0,C[w].style.right=w*o.column.width+w*o.column.spacing+"px",C[w].style.width=o.column.width+"px",C[w].style.height="0px";s(F.container,O),r(),t.appendChild(F.container),F.graph&&(x=F.graph.clientHeight),O.toggleOn&&("click"===O.toggleOn&&(F.container.style.cursor="pointer"),S(F.container,O.toggleOn,G))}"object"===H(t)&&undefined===t.nodeType&&(e=t,t=document.body),t||(t=document.body);var o,h,l,p,f,x,b,w,y,v=this,O=I({},D.defaults,e||{}),F={},C=[],M=100,z=[],E=O.threshold,A=0,P=n()-E,T=[],j=[],q="fps"===O.show;v.options=O,v.fps=0,v.duration=0,v.isPaused=0,v.tickStart=function(){A=n()},v.tick=function(){l=n(),E+=(l-P-E)/O.smoothing,v.fps=1e3/E,v.duration=A<P?E:l-A,P=l},v.pause=function(){return p&&(v.isPaused=1,clearTimeout(p),a(p),a(f),p=f=0),v},v.resume=function(){return p||(v.isPaused=0,k()),v},v.set=function(t,e){return O[t]=e,q="fps"===O.show,-1!==R(t,u)&&V(),-1!==R(t,d)&&s(F.container,O),v},v.showDuration=function(){return v.set("show","ms"),v},v.showFps=function(){return v.set("show","fps"),v},v.toggle=function(){return v.set("show",q?"ms":"fps"),v},v.hide=function(){return v.pause(),F.container.style.display="none",v},v.show=function(){return v.resume(),F.container.style.display="block",v},v.destroy=function(){v.pause(),U(),v.tick=v.tickStart=function(){}},V(),k()}var n,o=t.performance;n=o&&(o.now||o.webkitNow)?o[o.now?"now":"webkitNow"].bind(o):function(){return+new Date};for(var a=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,i=t.requestAnimationFrame,h=0,l=0,p=(o=["moz","webkit","o"]).length;l<p&&!a;++l)i=(a=t[o[l]+"CancelAnimationFrame"]||t[o[l]+"CancelRequestAnimationFrame"])&&t[o[l]+"RequestAnimationFrame"];a||(i=function(e){var o=n(),a=Math.max(0,16-(o-h));return h=o+a,t.setTimeout((function(){e(o+a)}),a)},a=function(t){clearTimeout(t)});var c="string"===H(document.createElement("div").textContent)?"textContent":"innerText";D.extend=I,window.FPSMeter=D,D.defaults={interval:100,smoothing:10,show:"fps",toggleOn:"click",decimals:1,maxFps:60,threshold:100,position:"absolute",zIndex:10,left:"5px",top:"5px",right:"auto",bottom:"auto",margin:"0 0 0 0",theme:"dark",heat:0,graph:0,history:20};var u=["toggleOn","theme","heat","graph","history"],d="position zIndex left top right bottom margin".split(" ")}(window),function(t,e){e.theme={};var n=e.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:"5px",minWidth:"95px",height:"30px",lineHeight:"30px",textAlign:"right",textShadow:"none"},count:{heatOn:null,heatmap:null,position:"absolute",top:0,right:0,padding:"5px 10px",height:"30px",fontSize:"24px",fontFamily:"Consolas, Andale Mono, monospace",zIndex:2},legend:{heatOn:null,heatmap:null,position:"absolute",top:0,left:0,padding:"5px 10px",height:"30px",fontSize:"12px",lineHeight:"32px",fontFamily:"sans-serif",textAlign:"left",zIndex:2},graph:{heatOn:null,heatmap:null,position:"relative",boxSizing:"padding-box",MozBoxSizing:"padding-box",height:"100%",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};e.theme.dark=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.8}],container:{background:"#222",color:"#fff",border:"1px solid #1a1a1a",textShadow:"1px 1px 0 #222"},count:{heatOn:"color"},column:{background:"#3f3f3f"}}),e.theme.light=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.5}],container:{color:"#666",background:"#fff",textShadow:"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},count:{heatOn:"color"},column:{background:"#eaeaea"}}),e.theme.colorful=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.6}],container:{heatOn:"backgroundColor",background:"#888",color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.2)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},column:{background:"#777",backgroundColor:"rgba(0,0,0,.2)"}}),e.theme.transparent=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.5}],container:{padding:0,color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.5)"},count:{padding:"0 5px",height:"40px",lineHeight:"40px"},legend:{padding:"0 5px",height:"40px",lineHeight:"42px"},graph:{height:"40px"},column:{width:5,background:"#999",heatOn:"backgroundColor",opacity:.5}})}(window,FPSMeter));var Fps=pc.createScript("fps");Fps.prototype.initialize=function(){this.fps=new FPSMeter({heat:!0,graph:!0})},Fps.prototype.update=function(t){this.fps.tick()};var SceneManager=pc.createScript("sceneManager");SceneManager.attributes.add("sceneIndex",{type:"number",default:0,title:"Scene Index to Load"}),SceneManager.prototype.loadScene=function(e,n){var a=this.app.root.findByName("Root"),t=this.app.scenes.find(e);this.app.scenes.loadSceneHierarchy(t.url,(function(e,n){e?console.error(e):a.destroy()}))};var BtnOpenUi=pc.createScript("btnOpenUi");BtnOpenUi.attributes.add("panel",{type:"entity",title:"UI to open"}),BtnOpenUi.attributes.add("panelClose",{type:"entity",title:"UI to close"}),BtnOpenUi.attributes.add("panelOpen",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("isTrigger",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("isVideo",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("isWeb",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("isCS",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("isCatalog",{type:"boolean",default:!1}),BtnOpenUi.attributes.add("website_url",{type:"string",default:""}),BtnOpenUi.attributes.add("chat_number",{type:"string",default:""}),BtnOpenUi.attributes.add("video_url",{type:"string",default:""}),BtnOpenUi.prototype.initialize=function(){this.entity.button.on("click",(function(t){if(this.isTrigger&&this.openUI(),this.isVideo&&this.openWebsite(this.video_url),this.isWeb&&this.openWebsite(this.website_url),this.isCS){var e="https://wa.me/"+("62"+this.chat_number)+"?text=Bismillah,%20saya%20ingin%20mengetahui%20lebih%20lanjut%20mengenai%20iie-virtual%20asesi,%20apakah%20bisa%20dibantu%20?%20Syukron..barakallah fikum";this.openWebsite(e)}}),this)},BtnOpenUi.prototype.openUI=function(){this.panel&&(this.panel.enabled=!0),this.panelClose&&(this.panelClose.enabled=!1)},BtnOpenUi.prototype.openWebsite=function(t){window.open(t)};var BoothTrigger=pc.createScript("boothTrigger");BoothTrigger.attributes.add("panelUI",{type:"entity",title:"UI to toogle"}),BoothTrigger.attributes.add("id_booth",{type:"number",title:"ID Booth"}),BoothTrigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.onTriggerEnter,this),this.entity.collision.on("triggerleave",this.onTriggerExit,this)},BoothTrigger.prototype.onTriggerEnter=function(t){var i=this.app.root.findByName("Player").rigidbody;console.log("trigger enter "+this.id_booth),t.rigidbody===i&&(this.panelUI.enabled=!0,this.app.fire("trigger:enable",this.id_booth))},BoothTrigger.prototype.onTriggerExit=function(t){var i=this.app.root.findByName("Player").rigidbody;t.rigidbody===i&&(this.panelUI.enabled=!1,this.app.fire("trigger:disable",0))};var ScrollController=pc.createScript("scrollController");ScrollController.attributes.add("entryTemplateAssets",{type:"asset",assetType:"template",array:!0}),ScrollController.attributes.add("initialEntryCount",{type:"number",default:15}),ScrollController.prototype._onAddRandomEntry=function(){var t=Math.floor(pc.math.random(0,this.entryTemplateAssets.length)),n=this.entryTemplateAssets[t].resource.instantiate();n.reparent(this._content),n.on("destroy",(function(){this._content.fire("contentchanged")}),this),this._content.fire("contentchanged")},ScrollController.prototype.initialize=function(){this._content=this.entity.scrollview.contentEntity,"string"==typeof this._content&&(this._content=this.app.getEntityFromIndex(this._content)),this.entity.on("addrandomentry",this._onAddRandomEntry,this);for(var t=0;t<this.initialEntryCount;++t)this._onAddRandomEntry();this._content.element.on("mousewheel",(function(t){var n=this.entity.scrollview.scroll;this.entity.scrollview._onSetScroll(n.x,n.y-.05*t.wheelDelta,!1)}),this)};var PointTag=pc.createScript("pointTag");PointTag.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),PointTag.attributes.add("hitMarkerEntity",{type:"entity",title:"Hit Marker Entity"}),PointTag.prototype.initialize=function(){this.endRayPosition=new pc.Vec3,this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this)},PointTag.prototype.update=function(t){},PointTag.prototype.doRayCast=function(t){this.cameraEntity.camera.screenToWorld(t.x,t.y,this.cameraEntity.camera.farClip,this.endRayPosition);var i=this.app.systems.rigidbody.raycastFirstByTag(this.cameraEntity.getPosition(),this.endRayPosition,"green");i&&this.hitMarkerEntity.setPosition(i.point)},PointTag.prototype.onMouseDown=function(t){t.button==pc.MOUSEBUTTON_LEFT&&this.doRayCast(t)},PointTag.prototype.onTouchStart=function(t){1==t.touches.length&&(this.doRayCast(t.touches[0]),t.event.preventDefault())};var BlockMouseInput=pc.createScript("blockMouseInput");BlockMouseInput.prototype.initialize=function(){this.entity.element.on("mousedown",(function(t){t.stopPropagation()}),this),this.entity.element.on("touchstart",(function(t){t.stopPropagation()}),this);this.entity};var PnInfoUi=pc.createScript("pnInfoUi");PnInfoUi.attributes.add("scrollControllerEntity",{type:"entity"}),PnInfoUi.prototype.initialize=function(){},PnInfoUi.prototype._onClick=function(){console.log("CLICK -> changed"),this.scrollControllerEntity.fire("_onContentChanged")};var BtInfoUi=pc.createScript("btInfoUi");BtInfoUi.attributes.add("panel",{type:"entity",title:"UI to open"}),BtInfoUi.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("touchstart",this.onPress,this)},BtInfoUi.prototype.onPress=function(){this.panel.fire("_onClick")};var ItemMain=pc.createScript("itemMain");ItemMain.prototype.initialize=function(){this.entity.button.on("click",(function(t){var i=this.app.root.findByName("Panel-Detil");console.log("Btn Click "+i.name),i&&(i.enabled=!0)}),this)};var UiControl=pc.createScript("uiControl");UiControl.prototype.initialize=function(){},UiControl.prototype.update=function(o){};var BotPatrol=pc.createScript("botPatrol");BotPatrol.attributes.add("duration",{type:"number",default:1}),BotPatrol.attributes.add("easing",{type:"string",default:"Linear"}),BotPatrol.attributes.add("delay",{type:"number",default:0}),BotPatrol.attributes.add("loop",{type:"boolean",default:!0}),BotPatrol.attributes.add("yoyo",{type:"boolean",default:!1}),BotPatrol.attributes.add("repeat",{type:"number",default:2}),BotPatrol.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},BotPatrol.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalPosition(-4,0,0),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(new pc.Vec3(4,0,0),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var TweenPosition=pc.createScript("tweenPosition");TweenPosition.attributes.add("duration",{type:"number",default:1}),TweenPosition.attributes.add("easing",{type:"string",default:"Linear"}),TweenPosition.attributes.add("delay",{type:"number",default:0}),TweenPosition.attributes.add("loop",{type:"boolean",default:!0}),TweenPosition.attributes.add("yoyo",{type:"boolean",default:!1}),TweenPosition.attributes.add("repeat",{type:"number",default:2}),TweenPosition.attributes.add("zPos1",{type:"number",default:0}),TweenPosition.attributes.add("zPos2",{type:"number",default:0}),TweenPosition.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenPosition.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalPosition(this.entity.position.x,this.entity.position.y,this.zPos1),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(new pc.Vec3(this.entity.position.x,this.entity.position.y,this.zPos2),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var Tween=pc.createScript("tween");Tween.attributes.add("tweens",{type:"json",schema:[{name:"autoPlay",title:"Autoplay",description:"Play tween immediately.",type:"boolean",default:!1},{name:"event",title:"Trigger Event",description:"Play tween on the specified event name. This event must be fired on the global application object (e.g. this.app.fire('eventname');).",type:"string"},{name:"path",title:"Path",description:"The path from the entity to the property. e.g. 'light.color', 'camera.fov' or 'script.vehicle.speed'.",type:"string"},{name:"start",title:"Start",type:"vec4"},{name:"end",title:"End",type:"vec4"},{name:"easingFunction",title:"Easing Function",description:"The easing functions: Linear, Quadratic, Cubic, Quartic, Quintic, Sinusoidal, Exponential, Circular, Elastic, Back and Bounce.",type:"number",enum:[{Linear:0},{Quadratic:1},{Cubic:2},{Quartic:3},{Quintic:4},{Sinusoidal:5},{Exponential:6},{Circular:7},{Elastic:8},{Back:9},{Bounce:10}]},{name:"easingType",title:"Easing Type",description:"Whether to ease in, easy out or ease in and then out using the specified easing function. Note that for a Linear easing function, the easing type is ignored.",type:"number",enum:[{In:0},{Out:1},{InOut:2}]},{name:"delay",title:"Delay",description:"Time to wait in milliseconds after receiving the trigger event before executing the tween. Defaults to 0.",type:"number",default:0},{name:"duration",title:"Duration",description:"Time to execute the tween in milliseconds. Defaults to 1000.",type:"number",default:1e3},{name:"repeat",title:"Repeat",description:"The number of times the tween should be repeated after the initial playback. -1 will repeat forever. Defaults to 0.",type:"number",default:0},{name:"repeatDelay",title:"Repeat Delay",description:"Time to wait in milliseconds before executing each repeat of the tween. Defaults to 0.",type:"number",default:0},{name:"yoyo",title:"Yoyo",description:"This function only has effect if used along with repeat. When active, the behaviour of the tween will be like a yoyo, i.e. it will bounce to and from the start and end values, instead of just repeating the same sequence from the beginning. Defaults to false.",type:"boolean",default:!1},{name:"startEvent",title:"Start Event",description:"Executed right before the tween starts animating, after any delay time specified by the delay method. This will be executed only once per tween, i.e. it will not be run when the tween is repeated via repeat(). It is great for synchronising to other events or triggering actions you want to happen when a tween starts.",type:"string"},{name:"stopEvent",title:"Stop Event",description:"Executed when a tween is explicitly stopped via stop(), but not when it is completed normally.",type:"string"},{name:"updateEvent",title:"Update Event",description:"Executed each time the tween is updated, after the values have been actually updated.",type:"string"},{name:"completeEvent",title:"Complete Event",description:"Executed when a tween is finished normally (i.e. not stopped).",type:"string"},{name:"repeatEvent",title:"Repeat Event",description:"Executed whenever a tween has just finished one repetition and will begin another.",type:"string"}],array:!0}),Tween.prototype.initialize=function(){var e,t=this.app;this.tweenInstances=[],this.tweenCallbacks=[];var makeStartCallback=function(e){return function(){this.start(e)}};for(e=0;e<this.tweens.length;e++){var n=this.tweens[e];n.autoPlay&&this.start(e),n.event.length>0&&(this.tweenCallbacks[e]={event:n.event,cb:makeStartCallback(e)},t.on(this.tweenCallbacks[e].event,this.tweenCallbacks[e].cb,this))}this.on("enable",(function(){for(e=0;e<this.tweens.length;e++)this.tweenInstances[e]&&this.tweenInstances[e].isPaused()&&this.tweenInstances[e].isPaused()&&this.tweenInstances[e].resume()})),this.on("disable",(function(){for(e=0;e<this.tweens.length;e++)this.tweenInstances[e]&&this.tweenInstances[e].isPlaying()&&this.tweenInstances[e].pause()})),this.on("attr",(function(n,i,a){for(e=0;e<this.tweenCallbacks.length;e++)this.tweenCallbacks[e]&&(t.off(this.tweenCallbacks[e].event,this.tweenCallbacks[e].cb,this),this.tweenCallbacks[e]=null);for(e=0;e<this.tweens.length;e++){var s=this.tweens[e];s.event.length>0&&(this.tweenCallbacks[e]={event:s.event,cb:makeStartCallback(e)},t.on(this.tweenCallbacks[e].event,this.tweenCallbacks[e].cb,this))}}))},Tween.prototype.start=function(e){var t,n=this.app,a=this.tweens[e],s=["Linear","Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce"];t=0===a.easingFunction?TWEEN.Easing[s[a.easingFunction]].None:TWEEN.Easing[s[a.easingFunction]][["In","Out","InOut"][a.easingType]];var o=this.tweenInstances;o[e]&&o[e].stop();var l=a.path.split("."),r=this.entity;for(i=0;i<l.length-1;i++)r=r[l[i]];var c,p,u=l[l.length-1],h=r[u],d="number"==typeof h,f=a.start,w=a.end;if(d)c={x:f.x},p={x:w.x};else if(h instanceof pc.Vec2)c=new pc.Vec2(f.x,f.y),p=new pc.Vec2(w.x,w.y);else if(h instanceof pc.Vec3)c=new pc.Vec3(f.x,f.y,f.z),p=new pc.Vec3(w.x,w.y,w.z);else if(h instanceof pc.Vec4)c=f.clone(),p=w.clone();else{if(!(h instanceof pc.Color))return void console.error("ERROR: tween - specified property must be a number, vec2, vec3, vec4 or color");c=new pc.Color(f.x,f.y,f.z,f.w),p=new pc.Color(w.x,w.y,w.z,w.w)}var updateProperty=function(e){switch(u){case"eulerAngles":r.setEulerAngles(e);break;case"localEulerAngles":r.setLocalEulerAngles(e);break;case"localPosition":r.setLocalPosition(e);break;case"localScale":r.setLocalScale(e);break;case"position":r.setPosition(e);break;default:r[u]=d?e.x:e,r instanceof pc.Material&&r.update()}};updateProperty(c),o[e]=new TWEEN.Tween(c).to(p,a.duration).easing(t).onStart((function(e){""!==a.startEvent&&n.fire(a.startEvent)})).onStop((function(t){""!==a.stopEvent&&n.fire(a.stopEvent),o[e]=null})).onUpdate((function(e){updateProperty(e),""!==a.updateEvent&&n.fire(a.updateEvent)})).onComplete((function(t){""!==a.completeEvent&&n.fire(a.completeEvent),o[e]=null})).onRepeat((function(e){""!==a.repeatEvent&&n.fire(a.repeatEvent)})).repeat(-1===a.repeat?1/0:a.repeat).repeatDelay(a.repeatDelay).yoyo(a.yoyo).delay(a.delay).start()};var app=pc.Application.getApplication();app&&app.on("update",(function(e){TWEEN.update()}));!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).TWEEN={})}(this,(function(t){"use strict";var e,n={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Bounce.In(2*t):.5*n.Bounce.Out(2*t-1)+.5}}},i="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r=function(){function Group(){this._tweens={},this._tweensAddedDuringUpdate={}}return Group.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},Group.prototype.removeAll=function(){this._tweens={}},Group.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},Group.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},Group.prototype.update=function(t,e){void 0===t&&(t=i()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var s=this._tweens[n[r]],o=!e;s&&!1===s.update(t,o)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},Group}(),s={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=s.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,o=s.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=s.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=s.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(e=[1],function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}),CatmullRom:function(t,e,n,i,r){var s=.5*(n-t),o=.5*(i-e),a=r*r;return(2*e-2*n+s+o)*(r*a)+(-3*e+3*n-2*s-o)*a+s*r+e}}},o=function(){function Sequence(){}return Sequence.nextId=function(){return Sequence._nextId++},Sequence._nextId=0,Sequence}(),a=new r,u=function(){function Tween(t,e){void 0===e&&(e=a),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=o.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return Tween.prototype.getId=function(){return this._id},Tween.prototype.isPlaying=function(){return this._isPlaying},Tween.prototype.isPaused=function(){return this._isPaused},Tween.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},Tween.prototype.duration=function(t){return this._duration=t,this},Tween.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?i()+parseFloat(t):t:i(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},Tween.prototype._setupProperties=function(t,e,n,i){for(var r in n){var s=t[r],o=Array.isArray(s),a=o?"array":typeof s,u=!o&&Array.isArray(n[r]);if("undefined"!==a&&"function"!==a){if(u){var h=n[r];if(0===h.length)continue;h=h.map(this._handleRelativeValue.bind(this,s)),n[r]=[s].concat(h)}if("object"!==a&&!o||!s||u)void 0===e[r]&&(e[r]=s),o||(e[r]*=1),i[r]=u?n[r].slice().reverse():e[r]||0;else{for(var p in e[r]=o?[]:{},s)e[r][p]=s[p];i[r]=o?[]:{},this._setupProperties(s,e[r],n[r],i[r])}}}},Tween.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},Tween.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},Tween.prototype.pause=function(t){return void 0===t&&(t=i()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},Tween.prototype.resume=function(t){return void 0===t&&(t=i()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},Tween.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},Tween.prototype.group=function(t){return this._group=t,this},Tween.prototype.delay=function(t){return this._delayTime=t,this},Tween.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},Tween.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},Tween.prototype.yoyo=function(t){return this._yoyo=t,this},Tween.prototype.easing=function(t){return this._easingFunction=t,this},Tween.prototype.interpolation=function(t){return this._interpolationFunction=t,this},Tween.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},Tween.prototype.onStart=function(t){return this._onStartCallback=t,this},Tween.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},Tween.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},Tween.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},Tween.prototype.onStop=function(t){return this._onStopCallback=t,this},Tween.prototype.update=function(t,e){if(void 0===t&&(t=i()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>s)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,u=this._chainedTweens.length;a<u;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},Tween.prototype._updateProperties=function(t,e,n,i){for(var r in n)if(void 0!==e[r]){var s=e[r]||0,o=n[r],a=Array.isArray(t[r]),u=Array.isArray(o);!a&&u?t[r]=this._interpolationFunction(o,i):"object"==typeof o&&o?this._updateProperties(t[r],s,o,i):"number"==typeof(o=this._handleRelativeValue(s,o))&&(t[r]=s+(o-s)*i)}},Tween.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},Tween.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},Tween}(),h="18.6.4",p=o.nextId,_=a,l=_.getAll.bind(_),c=_.removeAll.bind(_),d=_.add.bind(_),f=_.remove.bind(_),y=_.update.bind(_),v={Easing:n,Group:r,Interpolation:s,now:i,Sequence:o,nextId:p,Tween:u,VERSION:h,getAll:l,removeAll:c,add:d,remove:f,update:y};t.Easing=n,t.Group=r,t.Interpolation=s,t.Sequence=o,t.Tween=u,t.VERSION=h,t.add=d,t.default=v,t.getAll=l,t.nextId=p,t.now=i,t.remove=f,t.removeAll=c,t.update=y,Object.defineProperty(t,"__esModule",{value:!0})}));var FadeAnim=pc.createScript("fadeAnim");FadeAnim.attributes.add("autoPlay",{type:"boolean",title:"auto play fadeAnim"}),FadeAnim.attributes.add("event",{type:"string",title:"Trigger Event"}),FadeAnim.attributes.add("fadeType",{type:"number",enum:[{In:1},{Out:2},{InOut:3}],default:1}),FadeAnim.attributes.add("duration",{type:"number",default:2,title:"Duration (Secs)"}),FadeAnim.prototype.initialize=function(){this.color=this.entity.element.opacity,this.autoPlay&&(1===this.fadeType?(this.time=1,this.color=1):(2===this.fadeType||3===this.fadeType)&&(this.time=0,this.color=0)),this.app.on(this.event,(function(){1===this.fadeType?(this.time=1,this.color=1):(2===this.fadeType||3===this.fadeType)&&(this.time=0,this.color=0)}),this)},FadeAnim.prototype.update=function(t){this.app.mouse.wasPressed(pc.MOUSEBUTTON_LEFT)&&this.app.fire("fadein"),1===this.fadeType?(this.time-=t,this.FadeIn(this.duration)):2===this.fadeType?(this.time+=t,this.FadeOut(this.duration)):3===this.fadeType&&(this.time+=t,this.FadeInOut(this.duration))},FadeAnim.prototype.FadeIn=function(t){this.time<0&&(this.time=0);var i=this.time/t;this.entity.element.opacity=i},FadeAnim.prototype.FadeOut=function(t){this.time>t&&(this.time=t);var i=this.time/t;this.entity.element.opacity=i},FadeAnim.prototype.FadeInOut=function(t){this.time>t&&(this.time=t);var i=this.time/t,e=Math.abs(2*(i-.5));this.entity.element.opacity=e};var Koin=pc.createScript("koin");Koin.prototype.initialize=function(){this.speed=0,this.entity.collision.on("triggerenter",this.onTriggerEnter,this)},Koin.prototype.update=function(i){this.speed+=50*i,this.rot(this.speed)},Koin.prototype.rot=function(i){this.entity.setEulerAngles(90,i,0)},Koin.prototype.onTriggerEnter=function(i){var t=this.app.root.findByName("Player").rigidbody;i.rigidbody===t&&(app.fire("sound:audio","koin"),app.fire("game:koin",1),this.entity.destroy())};var SoundManager=pc.createScript("soundManager");SoundManager.prototype.initialize=function(){this.app.on("sound:audio",(function(n){this.entity.sound.play(n)}),this)},SoundManager.prototype.update=function(n){};var GameManager=pc.createScript("gameManager");GameManager.attributes.add("koinUi",{type:"entity",title:"Koin UI"}),GameManager.prototype.initialize=function(){this.poin=0,this.koinUi.element.text=this.poin,this.app.on("game:koin",(function(t){this.poin+=t,this.koinUi.element.text=this.poin}),this)},GameManager.prototype.update=function(t){};var ScrollVerticalAreaFitter=pc.createScript("scrollVerticalAreaFitter");ScrollVerticalAreaFitter.prototype._onContentChanged=function(){var t=this.entity.element;if(t){for(var e=t.height,i=this.entity.children,n=0;n<i.length;++n){var r=i[n];r.layoutchild&&(1,e=r.element.height)}this.entity.element.height=e}var a=this.entity.layoutgroup;if(a){for(var h=a.padding.y+a.padding.w,l=0,o=this.entity.children,c=0;c<o.length;++c){var g=o[c];g.layoutchild&&(l+=1,h+=g.element.height)}h+=Math.max(0,l-1)*a.spacing.y,this.entity.element.height=h}},ScrollVerticalAreaFitter.prototype.initialize=function(){this.entity.on("contentchanged",this._onContentChanged,this),this._onContentChanged()},ScrollVerticalAreaFitter.prototype.update=function(t){this._onContentChanged()};var UiHtml=pc.createScript("uiHtml");UiHtml.attributes.add("Fiture",{type:"asset",assetType:"html",title:"HTML Fiture Asset"}),UiHtml.attributes.add("Profile",{type:"asset",assetType:"html",title:"HTML Profile Asset"}),UiHtml.attributes.add("Program",{type:"asset",assetType:"html",title:"HTML Program Asset"}),UiHtml.attributes.add("Fasilitas",{type:"asset",assetType:"html",title:"HTML Fasilitas Asset"}),UiHtml.attributes.add("Prestasi",{type:"asset",assetType:"html",title:"HTML Prestasi Asset"}),UiHtml.attributes.add("Video",{type:"asset",assetType:"html",title:"HTML Video Asset"}),UiHtml.attributes.add("AgendaList",{type:"asset",assetType:"html",title:"HTML Agenda List Asset"}),UiHtml.attributes.add("AgendaData",{type:"asset",assetType:"html",title:"HTML Agenda Data Asset"}),UiHtml.attributes.add("css",{type:"asset",assetType:"css",title:"css Asset"}),UiHtml.attributes.add("js",{type:"asset",assetType:"html",title:"js Asset"});var id_exh=0;UiHtml.prototype.initialize=function(){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap",document.head.appendChild(t);var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://fonts.googleapis.com/css?family=Roboto",document.head.appendChild(e);var i=document.createElement("style");i.innerHTML=this.css.resource||"",document.head.appendChild(i),this.div=document.createElement("div"),this.div.classList.add("ui"),this.boothFiture=this.Fiture.resource||"",this.boothProfile=this.Profile.resource||"",this.boothProgram=this.Program.resource||"",this.boothFasilitas=this.Fasilitas.resource||"",this.boothPrestasi=this.Prestasi.resource||"",this.boothVideo=this.Video.resource||"",this.boothAgendaList=this.AgendaList.resource||"",this.boothAgendaData=this.AgendaData.resource||"",this.div.innerHTML=this.boothFiture+this.boothProfile+this.boothProgram+this.boothFasilitas+this.boothPrestasi+this.boothVideo+this.boothAgendaList+this.boothAgendaData,document.body.appendChild(this.div),this.script=document.createElement("script"),this.script.innerHTML=this.js.resource||"",document.body.appendChild(this.script),this.div.hidden=!0,this.app.on("trigger:enable",(function(t){t&&(this.getData(t),this.div.hidden=!1)}),this),this.app.on("trigger:disable",(function(t){this.id_exh=t,this.div.hidden=!0}),this),this.htmlAccess()},UiHtml.prototype.getData=function(t){ApiBooth.getBooth(t,((e,i)=>{if(i){const e=i.data.exhibitor_institution_information,st=i.data.exhibitor_events,at=i.data.booth_contact,rt=i.data.booth_appearance;var s=e.institution_name;document.querySelector("#profile-title").innerHTML=s,document.querySelector("#facility-title").innerHTML=s,document.querySelector("#achievement-title").innerHTML=s,document.querySelector("#program-title").innerHTML=s;var a=document.querySelector("#profile-address"),r=i.data.address.city+", "+i.data.address.provinsi;a.innerHTML=r;var o=document.querySelector("#profile-logo");const ot=rt.brand_image;o.src=ot?rt.brand_image:"https://mve.invex.id/storage/iie-ui/img/logo.png";var n=document.querySelector("#profile-jenjang"),c=JSON.parse(e.educational_level_ids),l="";for(let t=0;t<c.length;t++){var d="";switch(c[t]){case 1:d="TK/PAUD";break;case 2:d="SD";break;case 3:d="SMP";break;case 4:d="SMA"}l=l+"<p class=''normal data-jenjang'>- "+d+"</p>"}n.innerHTML=l;var u=document.querySelector("#profil-syarat"),h=e.student_requirements;u.innerHTML=h;var p=document.querySelector("#profil-school"),m=e.institution_profile;p.innerHTML=m;var v=document.querySelector("#profil-foundation"),b=e.foundation_profile;v.innerHTML=b;var g=document.querySelector("#profil-benefits"),f=e.institution_benefits;g.innerHTML=f;var y=document.querySelector("#profil-visions"),H=e.institution_visions;y.innerHTML=H;var T=document.querySelector("#profil-missions"),_=e.institution_missions;T.innerHTML=_;var L=document.querySelector("#profil-goals"),M=e.institution_goals;L.innerHTML=M;var S=document.querySelector("#profil-speech"),A=e.opening_speech;S.innerHTML=A;var k=document.querySelector("#feature-program"),q=e.institution_programs;k.innerHTML=q;var w=document.querySelector("#contact-wa"),E=at.whatsapp_number,P=E.toString().slice(0,2);w.onclick="62"!=P?function(){window.open("https://wa.me/+62"+E,"_blank")}:function(){window.open("https://wa.me/+"+E,"_blank")};var U=document.querySelector("#contact-zoom"),F=at.zoom_url;U.onclick=function(){window.open(F)};var x=document.querySelector("#contact-ig"),D=e.institution_instagram_username;x.onclick=function(){window.open(D)};var R=document.querySelector("#contact-fb"),j=e.institution_facebook_username;R.onclick=function(){window.open(j)};var B=document.querySelector("#feature-video"),I="https://www.youtube.com/embed/"+function youtube_parser(t){var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,i=t.match(e);return i&&11==i[2].length?i[2]:null}(rt.booth_video_promotions_url.split(" ").join(""));B.src=I;var V=document.querySelector("#feature-achievement"),C=e.institution_achievements;V.innerHTML=C;var J=document.querySelector("#feature-facility"),N=e.institution_facilities,O="";if(N.length>0)for(let t=0;t<N.length;t++){O=O+"<div class='data-fasilitas' > <div class='data'><img class='gbr' src="+N[t].thumbnail_image+" width='320px;' alt=''><p class='normal centered'>"+N[t].name+"</p></div></div>"}else O="<p class='normal'>-</p>";J.innerHTML=O;var z=document.querySelector("#feature-agenda"),K="";if(st.length>0)for(var G=0;G<st.length;G++){var Q=st[G],W=Q.start_datetime.substr(8,2),X=Q.start_datetime.substr(5,2),Y=Q.start_datetime.substr(0,4),Z=Q.start_datetime.substr(11,5),$=Q.end_datetime.substr(11,5);switch(X){case"01":X=" JANUARI ";break;case"02":X=" FEBRUARI ";break;case"03":X=" MARET ";break;case"04":X=" APRIL ";break;case"05":X=" MEI ";break;case"06":X=" JUNI ";break;case"07":X=" JULI ";break;case"08":X=" AGUSTUS ";break;case"09":X=" SEPTEMBER ";break;case"10":X=" OKTOBER ";break;case"11":X=" NOVEMBER ";break;case"12":X=" DESEMBER ";break;default:X="-"}for(var tt="",et=JSON.parse(Q.speakers),it=0;it<et.length;it++)tt+=et[it],it!=et.length-1&&(tt+=", ");K+="<div class='agenda' onclick=\"btnEvent('Agenda-data','"+t+"','"+G+"');\"><div class='calender'><p class='tanggal'>"+W+"</p><p class='bulan'>"+X+"</p></div><div class='field-data'><div class='agenda-date'><img src='https://mve.invex.id/storage/iie-ui/img/cal-icon.svg' height='12px' alt=''><p class='normal'>"+W+X+Y+" | "+Z+" - "+$+"</p></div><p class='title-agenda'>"+Q.event_title+"</p><p class='pengisi-agenda'>"+tt+"</p></div></div>"}z.innerHTML=K}}))},UiHtml.prototype.htmlAccess=function(){this.app;var t=document.querySelectorAll(".back-btn");this.div.addEventListener("mousedown",(function(t){t.stopPropagation()})),this.div.addEventListener("touchstart",(function(t){t.stopPropagation()})),t&&t.forEach((function(t){t.addEventListener("click",(function(){document.querySelector(".vid").src+=""}),!1)}))};var TriggerBanner=pc.createScript("triggerBanner");TriggerBanner.attributes.add("booth",{type:"entity",title:"booth"}),TriggerBanner.attributes.add("banner",{type:"number",title:"banner_index"}),TriggerBanner.attributes.add("ui_banner",{type:"entity",title:"panel banner"}),TriggerBanner.attributes.add("uri",{type:"string",title:"uriAPI"}),TriggerBanner.prototype.initialize=function(){this.entity.element.on("mousedown",(function(t){this.Open(),t.stopPropagation()}),this),this.entity.element.on("touchstart",(function(t){this.Open(),t.stopPropagation()}),this)},TriggerBanner.prototype.Open=function(){var t="";switch(this.banner){case 1:t=this.booth.script.boothAttribute.url_stand1;break;case 2:t=this.booth.script.boothAttribute.url_stand2;break;case 3:t=this.booth.script.boothAttribute.url_desk;break;case 4:t=this.booth.script.boothAttribute.url_wall}t||""!=t?this.app.fire("banner:view",t):this.app.fire("banner:view",this.uri)};var ImageCover=pc.createScript("imageCover");ImageCover.attributes.add("originalWidth",{type:"number"}),ImageCover.attributes.add("originalHeight",{type:"number"}),ImageCover.prototype.initialize=function(){this.app.graphicsDevice.on("resizecanvas",this.onResize,this),this.onResize(this.app.graphicsDevice.width,this.app.graphicsDevice.height)},ImageCover.prototype.onResize=function(i,e){i>e?(this.entity.element.height=i/this.originalWidth*this.originalHeight,this.entity.element.width=i):(this.entity.element.width=e/this.originalHeight*this.originalWidth,this.entity.element.height=e)};var BannerZoon=pc.createScript("bannerZoon");BannerZoon.attributes.add("banner",{type:"entity",title:"banner"}),BannerZoon.prototype.initialize=function(){this.currentOrthoHeight=this.banner.getLocalScale().x,this.app.on("ChangeBanner",(function(t){this.banner.element.textureAsset=this.textureAsset}),this)},BannerZoon.prototype.update=function(t){var e=this.app.graphicsDevice.canvas,n=e.width/e.height,a=pc.math.clamp(n,1,2);a!==this.currentOrthoHeight&&(this.banner.setLocalScale(a,a,a),console.log(a),this.currentOrthoHeight=a)};var BannerView=pc.createScript("bannerView");BannerView.attributes.add("bannerUI",{type:"asset",assetType:"html",title:"HTML baner view Asset"}),BannerView.prototype.initialize=function(){this.banner=document.createElement("div"),this.banner.innerHTML=this.bannerUI.resource||"",document.body.appendChild(this.banner),this.banner.hidden=!0,this.app.on("banner:view",(function(n){this.banner.hidden=!1,this.bannerViewer(n)}),this),this.app.on("banner:unview",(function(){this.banner.hidden=!0}),this);var n=document.querySelector("#back-view"),e=this.app;n.addEventListener("click",(function(){e.fire("banner:unview")}),!1),this.banner.addEventListener("mousedown",(function(n){n.stopPropagation()})),this.banner.addEventListener("touchstart",(function(n){n.stopPropagation()}))},BannerView.prototype.bannerViewer=function(n){this.entity;document.querySelector("#uriBanner").src=n};var Html=pc.createScript("html");Html.prototype.initialize=function(){},Html.prototype.update=function(t){};var BoothIndividu=pc.createScript("boothIndividu");BoothIndividu.attributes.add("boothEntities",{type:"entity",array:!0,default:[],title:"Booth Entity"}),BoothIndividu.prototype.initialize=function(){const t=window.location.href,o=t.substring(t.lastIndexOf("=")+1);console.log(o+" ID nya"),ApiBooth.getBoothIndividu(o,((t,o)=>{const i=o.data;var e=i.booth_type_id-1;const n=this.boothEntities[e];n.enabled=!0,console.log("Write Booth "+i.code+" "+i.brand_name),n.script.boothAttribute.updateAttribute(i),this.app.fire("trigger:enable",i.id)}))};var C=pc.createScript("c");C.prototype.initialize=function(){},C.prototype.update=function(t){};var SceneOpen=pc.createScript("sceneOpen");SceneOpen.prototype.initialize=function(){},SceneOpen.prototype.update=function(e){};var GameStarter=pc.createScript("gameStarter");function getUrlVars(e=null){if(null!==e){for(var a,t=[],l=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<l.length;n++)a=l[n].split("="),t.push(a[0]),t[a[0]]=a[1];return t[e]}return null}GameStarter.attributes.add("hall_name",{type:"string",default:"",title:"Nama Hall"}),GameStarter.attributes.add("sceneManager",{type:"entity",default:"",title:"Scene Manager"}),GameStarter.prototype.initialize=function(){var e=getUrlVars("booth_id"),a=getUrlVars("hall_id");if(a){switch(this.app.hall_id=a,a){case"1":this.hall_name="Hall";break;case"2":this.hall_name="HallB";break;case"3":this.hall_name="HallC";break;case"4":this.hall_name="HallD";break;case"5":this.hall_name="HallE"}console.log(this.sceneManager.name+"hall name : "+this.hall_name),this.openScene(this.hall_name)}e&&(this.app.booth_id=e)},GameStarter.prototype.openScene=function(e){this.app.sceneIndex=this.sceneIndex,this.sceneManager.script.sceneManager.loadScene(e,(e=>{}))};var PathFollowing=pc.createScript("pathFollowing");PathFollowing.attributes.add("pathRoot",{type:"entity",title:"Path Root"}),PathFollowing.attributes.add("duration",{type:"number",default:10,title:"Duration Secs"}),PathFollowing.attributes.add("startTime",{type:"number",default:0,title:"Start Time (Secs)",description:"Start the path from a specific point in time"}),PathFollowing.prototype.initialize=function(){this.createPath(),this.on("attr:pathRoot",(function(t,i){t&&(this.createPath(),this.time=0)})),this.on("attr:time",(function(t,i){this.time=pc.math.clamp(this.startTime,0,this.duration)})),this.time=pc.math.clamp(this.startTime,0,this.duration),this.lookAt=new pc.Vec3,this.up=new pc.Vec3,this.flyingThrough=!0},PathFollowing.prototype.update=function(t){var i;this.flyingThrough?(this.time+=t,this.time>this.duration&&(this.time-=this.duration),i=this.time/this.duration):i=this.pathSlider.value/this.pathSlider.max,this.entity.setPosition(this.px.value(i),this.py.value(i),this.pz.value(i)),this.lookAt.set(this.tx.value(i),this.ty.value(i),this.tz.value(i)),this.up.set(this.ux.value(i),this.uy.value(i),this.uz.value(i)),this.entity.lookAt(this.lookAt,this.up)},PathFollowing.prototype.createPath=function(){var t=pc.CURVE_CARDINAL;this.px=new pc.Curve,this.px.type=t,this.py=new pc.Curve,this.py.type=t,this.pz=new pc.Curve,this.pz.type=t,this.tx=new pc.Curve,this.tx.type=t,this.ty=new pc.Curve,this.ty.type=t,this.tz=new pc.Curve,this.tz.type=t,this.ux=new pc.Curve,this.ux.type=t,this.uy=new pc.Curve,this.uy.type=t,this.uz=new pc.Curve,this.uz.type=t;var e=this.pathRoot.children,h=0,s=[],a=new pc.Vec3;for(s.push(0),i=1;i<e.length;i++){var o=e[i-1],p=e[i];a.sub2(o.getPosition(),p.getPosition()),h+=a.length(),s.push(h)}for(i=0;i<e.length;i++){var u=s[i]/h,n=e[i],r=n.getPosition();this.px.add(u,r.x),this.py.add(u,r.y),this.pz.add(u,r.z);var l=r.clone().add(n.forward);this.tx.add(u,l.x),this.ty.add(u,l.y),this.tz.add(u,l.z);var d=n.up;this.ux.add(u,d.x),this.uy.add(u,d.y),this.uz.add(u,d.z)}};